{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///sf.autocomplete.min.js","webpack:///webpack/bootstrap 7cf6299690cf2aa0e84c?f50c","webpack:///./src/index.js?9552","webpack:///external \"sf\"?eecf","webpack:///./src/sf-autocomplete.js?9421","webpack:///./~/babel-runtime/core-js/object/get-own-property-names.js?5629","webpack:///./~/core-js/library/fn/object/get-own-property-names.js?4868","webpack:///./~/core-js/library/modules/$.js?6ce7","webpack:///./~/core-js/library/modules/es6.object.get-own-property-names.js?02fd","webpack:///./~/core-js/library/modules/$.object-sap.js?f39d","webpack:///./~/core-js/library/modules/$.export.js?b734","webpack:///./~/core-js/library/modules/$.global.js?4deb","webpack:///./~/core-js/library/modules/$.core.js?7680","webpack:///./~/core-js/library/modules/$.ctx.js?e797","webpack:///./~/core-js/library/modules/$.a-function.js?860b","webpack:///./~/core-js/library/modules/$.fails.js?6c29","webpack:///./~/core-js/library/modules/$.get-names.js?e4b8","webpack:///./~/core-js/library/modules/$.to-iobject.js?daca","webpack:///./~/core-js/library/modules/$.iobject.js?3ada","webpack:///./~/core-js/library/modules/$.cof.js?74ee","webpack:///./~/core-js/library/modules/$.defined.js?7087","webpack:///./~/babel-runtime/core-js/object/assign.js?e6ca","webpack:///./~/core-js/library/fn/object/assign.js?80e4","webpack:///./~/core-js/library/modules/es6.object.assign.js?9007","webpack:///./~/core-js/library/modules/$.object-assign.js?ed5a","webpack:///./~/core-js/library/modules/$.to-object.js?093c","webpack:///./~/babel-runtime/core-js/object/create.js?aa4b","webpack:///./~/core-js/library/fn/object/create.js?738c","webpack:///./src/autocomplete.less?b246*","webpack:///./src/autocomplete.less?578a","webpack:///./~/css-loader/lib/css-base.js?da04","webpack:///./~/style-loader/addStyles.js?b980"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_sf","_sf2","_sfAutocomplete","_sfAutocomplete2","instancesController","registerInstanceType","Object","defineProperty","value","undefined","_getOwnPropertyNames","_getOwnPropertyNames2","_assign","_assign2","_create","_create2","Autocomplete","sf","node","options","_construct","prototype","core","BaseDOMConstructor","name","init","defaults","filled","selectedIndex","els","input","wrapper","helpers","domTools","closest","wrapperSelector","group","parentNode","hidden","document","createElement","hints","addon","autocomplete","appendChild","setAttribute","dataset","className","style","top","offsetTop","Math","round","offsetHeight","url","length","substring","key","retrieveValueByKey","setState","availableTags","deferRequestBy","addEventListeners","events","Events","_key","optionsToGrab","domAttr","allowNew","keyOnNewAllowed","minChars","query","suggestionsClassName","selectedClassName","onSelect","optionsToProcess","processor","JSONNode","getElementsByClassName","innerHTML","ret_val","JSON","parse","e","console","error","that","ajax","send","data","then","success","suggestions","wrap","type","onKeyPress","onInputChange","listen","onFocus","addEventListener","removeEventListener","state","onValueChange","clear","addTag","keys","ESC","TAB","RETURN","LEFT","UP","RIGHT","DOWN","BACKSPACE","getKeyByIndex","index","children","hide","removeChild","visible","trigger","trim","str","replace","classList","remove","add","readOnly","disabled","clearTimeout","onChangeTimeout","findBestHint","setTimeout","q","getSuggestions","getAvailableSuggestions","hasOwnProperty","toLowerCase","indexOf","suggest","getServerSuggestions","abort","isReturnXHRToo","answer","disable","prepareSuggestions","html","Array","isArray","forEach","suggestion","formatResult","position","insertBefore","nextSibling","onSuggestionsClick","bind","preventDefault","target","select","escapeRegExChars","pattern","RegExp","cb","tools","resolveKeyPath","window","apply","arguments","which","stopImmediatePropagation","onKeyEnter","onKeyUp","onKeyDown","moveUp","moveDown","child","adjustScroll","highlight","item","hintsHeight","clientHeight","hintTop","hintHeight","scrollTop","die","$","it","getNames","$Object","create","getProto","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","getOwnPropertyDescriptor","setDesc","setDescs","defineProperties","getKeys","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","each","get","$export","fails","KEY","exec","fn","exp","S","F","global","ctx","PROTOTYPE","source","own","out","IS_FORCED","IS_GLOBAL","G","IS_STATIC","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","C","param","Function","self","__g","version","__e","aFunction","b","TypeError","toIObject","toString","windowNames","getWindowNames","slice","IObject","defined","cof","split","assign","toObject","A","Symbol","K","k","join","T","$$","$$len","concat","j","D","content","locals","push","list","result","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","firstChild","Error","removeStyleElement","idx","splice","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","unescape","encodeURIComponent","stringify","blob","oldSrc","memoize","memo","isOldIE","test","navigator","userAgent","getElementsByTagName","newList","mayRemove","textStore","replacement","filter","Boolean"],"mappings":"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","file":"sf.autocomplete.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"sf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"sf\")) : factory(root[\"sf\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","/*!\n * Autocomplete module v.0.1.0\n * https://github.com/sfjs/sf-module-autocomplete/\n * Copyright (c) 2016, Alex Chepura, Yauheni Yasinau, Maxim Matveev, spiralscout.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"sf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"sf\")) : factory(root[\"sf\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _sf = __webpack_require__(2);\n\t\n\tvar _sf2 = _interopRequireDefault(_sf);\n\t\n\tvar _sfAutocomplete = __webpack_require__(3);\n\t\n\tvar _sfAutocomplete2 = _interopRequireDefault(_sfAutocomplete);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//todo not use webpack's style loader here. just compile, minify and add to the page by our script\n\t__webpack_require__(27); //resolved by webpack's \"externals\"\n\t\n\t\n\t_sf2.default.instancesController.registerInstanceType(_sfAutocomplete2.default, \"js-sf-autocomplete\");\n\tmodule.exports = _sfAutocomplete2.default; // ES6 default export will not expose us as global\n\n/***/ },\n/* 1 */,\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _getOwnPropertyNames = __webpack_require__(4);\n\t\n\tvar _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);\n\t\n\tvar _assign = __webpack_require__(20);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _create = __webpack_require__(25);\n\t\n\tvar _create2 = _interopRequireDefault(_create);\n\t\n\tvar _sf = __webpack_require__(2);\n\t\n\tvar _sf2 = _interopRequireDefault(_sf);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//resolved by webpack's \"externals\"\n\t\n\tvar Autocomplete = function Autocomplete(sf, node, options) {\n\t    this._construct(sf, node, options);\n\t};\n\tAutocomplete.prototype = (0, _create2.default)(_sf2.default.core.BaseDOMConstructor.prototype);\n\tAutocomplete.prototype.name = \"autocomplete\";\n\tAutocomplete.prototype._construct = function (sf, node, options) {\n\t    this.init(sf, node, options); //call parent\n\t\n\t    var defaults = {\n\t        /*NOT REQUIRED OPTIONS*/\n\t        /*delimiter: \"\",*/\n\t    };\n\t    var that = this;\n\t    this.options = (0, _assign2.default)(this.options, defaults);\n\t    if (options) {\n\t        //if we pass options extend all options by passed options\n\t        this.options = (0, _assign2.default)(this.options, options);\n\t    }\n\t\n\t    /*INITIAL VARIABLES*/\n\t    /**\r\n\t     * @default false\r\n\t     * */\n\t    this.filled = false;\n\t    /**\r\n\t     * @default -1\r\n\t     * */\n\t    this.selectedIndex = -1;\n\t\n\t    this.els = {\n\t        node: node,\n\t        input: node,\n\t        wrapper: sf.helpers.domTools.closest(node, this.options.wrapperSelector),\n\t        group: node.parentNode,\n\t        hidden: document.createElement('input'),\n\t        hints: null,\n\t        addon: document.createElement(\"button\")\n\t    };\n\t    this.els.input.autocomplete = \"off\";\n\t    this.els.wrapper.appendChild(this.els.hidden);\n\t    this.els.hidden.setAttribute('type', 'hidden');\n\t    this.els.hidden.name = this.els.input.dataset.name;\n\t    if (this.els.input.dataset.value) this.els.hidden.value = this.els.input.dataset.value;\n\t    this.els.addon.className = \"btn-icon\";\n\t    this.els.addon.setAttribute(\"type\", \"button\");\n\t    this.els.addon.style.top = this.els.input.offsetTop + Math.round(this.els.input.offsetHeight / 2) + 'px';\n\t    this.els.group.appendChild(this.els.addon);\n\t    if (this.options.url[this.options.url.length - 1] === \"/\") {\n\t        this.options.url = this.options.url.substring(0, this.options.url.length - 1);\n\t    }\n\t\n\t    this.value = this.els.input.value;\n\t    this.key = this.els.input.dataset.key;\n\t\n\t    this.retrieveValueByKey();\n\t\n\t    if (this.key && this.value) {\n\t        this.setState(\"filled\");\n\t    } else {\n\t        this.setState(\"search\");\n\t    }\n\t\n\t    if (this.options.availableTags && !this.options.url) {\n\t        this.options.deferRequestBy = 0;\n\t    }\n\t\n\t    this.addEventListeners();\n\t\n\t    this.events = new sf.modules.core.Events([\"select\", \"clear\"]);\n\t};\n\t\n\tAutocomplete.prototype._key = \"\";\n\t\n\t/**\r\n\t * @override\r\n\t * @inheritDoc\r\n\t * @enum {string}\r\n\t */\n\tAutocomplete.prototype.optionsToGrab = {\n\t    /**\r\n\t     * URL to get suggestions form <b>Default: \"/\"</b>\r\n\t     */\n\t    url: {\n\t        value: \"/\",\n\t        domAttr: \"data-url\"\n\t    },\n\t    /**\r\n\t     *  Accept or not values that not present in suggestions <b>Default: \"false\"</b>\r\n\t     */\n\t    allowNew: {\n\t        value: false,\n\t        domAttr: \"data-allow-new\"\n\t    },\n\t    /**\r\n\t     *  Pass key if possible when values that not present in suggestions are allowed, i.e. with allowNew-param<b>Default: \"false\"</b>\r\n\t     */\n\t    keyOnNewAllowed: {\n\t        value: false,\n\t        domAttr: \"data-key-on-new\"\n\t    },\n\t    /**\r\n\t     * Name to send <b>Default: \"autocomplete\"</b>\r\n\t     */\n\t    name: {\n\t        value: \"autocomplete\",\n\t        domAttr: \"data-name\"\n\t    },\n\t    /**\r\n\t     * Wrapper selector <b>Default: \".item-form\"</b>\r\n\t     */\n\t    wrapperSelector: {\n\t        value: \".item-form\",\n\t        domAttr: \"data-wrapper-selector\"\n\t    },\n\t    /**\r\n\t     * Minum amount of chars to start showing suggestions <b>Default: 1</b>\r\n\t     */\n\t    minChars: {\n\t        value: 1,\n\t        domAttr: \"data-min-chars\"\n\t    },\n\t    /**\r\n\t     * Naming of query to send <b>Default: \"query\"</b>\r\n\t     */\n\t    query: {\n\t        value: \"query\",\n\t        domAttr: \"data-query\"\n\t    },\n\t    /**\r\n\t     * Defer request after input in ms <b>Default: 500</b>\r\n\t     */\n\t    deferRequestBy: {\n\t        value: 500,\n\t        domAttr: \"data-defer\"\n\t    },\n\t    /**\r\n\t     * Class to pass to autocomplete hints <b>Default: \"autocomplete-hint\"</b>\r\n\t     */\n\t    suggestionsClassName: {\n\t        value: \"autocomplete-hint\",\n\t        domAttr: \"data-suggestions-class\"\n\t    },\n\t    /**\r\n\t     * Class to pass to selected hint in list <b>Default: \"autocomplete-selected\"</b>\r\n\t     */\n\t    selectedClassName: {\n\t        value: \"autocomplete-selected\",\n\t        domAttr: \"data-selected-class\"\n\t    },\n\t    /**\r\n\t     * Callback on suggestion select\r\n\t     */\n\t    onSelect: {\n\t        domAttr: \"data-on-select\"\n\t    }\n\t};\n\t/**\r\n\t * @override\r\n\t * @inheritDoc\r\n\t * @enum {Object}\r\n\t */\n\tAutocomplete.prototype.optionsToProcess = {\n\t    /**\r\n\t     * For Autocomplete (not for Tags) this means available key->values for Autocomplete but given by PHP, not from server.\r\n\t     */\n\t    availableTags: {\n\t        processor: function processor(node) {\n\t            //processor\n\t            var JSONNode = node.getElementsByClassName(\"js-spiral-autocomplete-available-tags\")[0];\n\t            if (!JSONNode || !JSONNode.innerHTML) {\n\t                return this.value;\n\t            }\n\t            var ret_val;\n\t            try {\n\t                ret_val = JSON.parse(JSONNode.innerHTML);\n\t            } catch (e) {\n\t                console.error(\"Failed to parse JSON -\", JSONNode.innerHTML, e);\n\t                ret_val = this.value;\n\t            }\n\t            return ret_val;\n\t        }\n\t    }\n\t};\n\t\n\tAutocomplete.prototype.retrieveValueByKey = function () {\n\t    var that = this;\n\t    if (!this.value && this.els.hidden.value) {\n\t        _sf2.default.ajax.send({\n\t            url: this.options.url,\n\t            data: { id: this.els.hidden.value }\n\t        }).then(function (success) {\n\t            if (success.suggestions) {\n\t                that.els.input.value = success.suggestions[that.els.hidden.value];\n\t                that.filled = true;\n\t                that.setState(\"filled\");\n\t            } else {\n\t                that.els.hidden.value = \"\";\n\t            }\n\t        }, function (error) {\n\t            that.els.hidden.value = \"\";\n\t        });\n\t    }\n\t};\n\t\n\t/**\r\n\t * Adds events listeners.</br>\r\n\t */\n\tAutocomplete.prototype.addEventListeners = function () {\n\t    var that = this;\n\t\n\t    function wrap(e) {\n\t        if (e.type === 'keydown') that.onKeyPress(e);\n\t        if (e.type === 'input' || e.type === 'change') that.onInputChange(e);\n\t        if (e.type === 'click') that.wrap(e);\n\t    }\n\t\n\t    function listen(e) {\n\t        if (that.options.availableTags) that.onFocus(e);\n\t        that.els.input.addEventListener(\"keydown\", wrap);\n\t        that.els.input.addEventListener(\"change\", wrap);\n\t        that.els.input.addEventListener(\"input\", wrap);\n\t        that.els.input.addEventListener(\"blur\", function () {\n\t            that.els.input.removeEventListener(\"keydown\", wrap);\n\t            that.els.input.removeEventListener(\"change\", wrap);\n\t            that.els.input.removeEventListener(\"input\", wrap);\n\t            that.els.input.removeEventListener(\"blur\", listen);\n\t        }, false);\n\t    }\n\t\n\t    this.els.input.addEventListener(\"focus\", listen);\n\t\n\t    this.els.addon.addEventListener(\"click\", function () {\n\t        switch (that.state) {\n\t            case \"search\":\n\t                that.onValueChange();\n\t                break;\n\t            case \"filled\":\n\t                that.clear();\n\t                break;\n\t            case \"add\":\n\t                that.addTag(false, that.els.input.value);\n\t                break;\n\t            case \"select\":\n\t\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t    });\n\t};\n\t\n\t/**\r\n\t * Key codes.\r\n\t * @enum {Number}\r\n\t */\n\tAutocomplete.prototype.keys = {\n\t    ESC: 27, TAB: 9, RETURN: 13, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, BACKSPACE: 8\n\t};\n\t\n\t/**\r\n\t * Gets key from data-key from element.\r\n\t * @param {Number} index Index of current suggestion.\r\n\t * @return {String} Key that written in \"data-key\" attribute\r\n\t */\n\tAutocomplete.prototype.getKeyByIndex = function (index) {\n\t    return this.els.hints.children[index].dataset.key;\n\t};\n\t\n\t/**\r\n\t * Hides hints. Changes state.\r\n\t */\n\tAutocomplete.prototype.hide = function () {\n\t    if (!this.els.hints) return;\n\t    this.els.group.removeChild(this.els.hints);\n\t    this.els.hints = null;\n\t    this.visible = false;\n\t    this.selectedIndex = -1;\n\t    if (this.value !== \"\" && this.value !== this.els.input.value) {\n\t        this.setState(this.options.allowNew ? \"add\" : \"search\");\n\t    }\n\t};\n\t\n\t/**\r\n\t * Clears input, suggestions, variables.\r\n\t */\n\tAutocomplete.prototype.clear = function () {\n\t    this.value = \"\";\n\t    this.els.input.value = \"\";\n\t    this.els.hidden.value = \"\";\n\t    this.suggestions = {};\n\t    this.filled = false;\n\t    this.hide();\n\t    this.setState(\"search\");\n\t    this.events.trigger(\"clear\", this);\n\t};\n\t\n\t/**\r\n\t * Trim string.\r\n\t * @param {String} str String that will be trimmed\r\n\t * @return {String} Trimmed string\r\n\t */\n\tAutocomplete.prototype.trim = function (str) {\n\t    return str.trim().replace(/\\s+/g, '_');\n\t};\n\t\n\t/**\r\n\t * Changes item-state- class on wrapper.\r\n\t * @param {String} state\r\n\t */\n\tAutocomplete.prototype.setState = function (state) {\n\t    if (this.state === state) return;\n\t    this.els.wrapper.classList.remove(\"item-state-\" + this.state);\n\t    this.els.wrapper.classList.add(\"item-state-\" + state);\n\t    this.state = state;\n\t    if (state === \"filled\") {\n\t        this.hide();\n\t        this.els.input.readOnly = true;\n\t        this.els.input.classList.add('read-only');\n\t    } else {\n\t        this.els.input.readOnly = false;\n\t        this.els.input.classList.remove('read-only');\n\t    }\n\t};\n\t\n\t/**\r\n\t * Change value for visible input and for invisible inputs.\r\n\t * @param {String | Boolean} key Key to add to hidden input and than send to server.\r\n\t * @param {String} value Value just to show to users.\r\n\t */\n\tAutocomplete.prototype.addTag = function (key, value) {\n\t    if (this.options.allowNew || key !== true) {\n\t\n\t        if (this.options.allowNew && this.options.keyOnNewAllowed && key) {\n\t            this.els.hidden.value = key;\n\t        } else {\n\t            this.els.hidden.value = this.options.allowNew ? value : key;\n\t        }\n\t\n\t        this.value = value;\n\t        this.els.input.value = this.value;\n\t        this.suggestions = {};\n\t        this.filled = true;\n\t        this.setState(\"filled\");\n\t    }\n\t};\n\t\n\t/**\r\n\t * Process key up.\r\n\t * @param e Event that fires on key up.\r\n\t */\n\tAutocomplete.prototype.onInputChange = function (e) {\n\t    var that = this;\n\t    if (this.disabled) return;\n\t\n\t    //    switch (e.which) {\n\t    //        case this.keys.UP:\n\t    //        case this.keys.DOWN:\n\t    //            return;\n\t    //    }\n\t\n\t    clearTimeout(this.onChangeTimeout);\n\t\n\t    if (this.value !== this.els.input.value) {\n\t        this.findBestHint();\n\t        if (this.options.deferRequestBy > 0) {\n\t            if (this.options.allowNew) this.setState(\"add\");\n\t            // Defer lookup in case when value changes very quickly:\n\t            this.onChangeTimeout = setTimeout(function () {\n\t                that.onValueChange();\n\t            }, this.options.deferRequestBy);\n\t        } else {\n\t            this.onValueChange();\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Finding best input.\r\n\t * Not implemented.\r\n\t * Maybe not need.\r\n\t */\n\tAutocomplete.prototype.findBestHint = function () {};\n\t\n\t/**\r\n\t * Process changing input's value.\r\n\t */\n\tAutocomplete.prototype.onValueChange = function (q) {\n\t    this.value = this.els.input.value;\n\t    if (this.options.availableTags && !this.options.url) {\n\t        this.getSuggestions(this.value);\n\t    } else {\n\t        clearTimeout(this.onChangeTimeout);\n\t        this.selectedIndex = -1;\n\t        this.value.length < this.options.minChars ? this.hide() : this.getSuggestions(this.value);\n\t    }\n\t};\n\t\n\tAutocomplete.prototype.getAvailableSuggestions = function (q) {\n\t    if (q.trim() != \"\") {\n\t        var suggestions = {};\n\t        for (var key in this.options.availableTags) {\n\t            if (this.options.availableTags.hasOwnProperty(key) && this.options.availableTags[key].toLowerCase().indexOf(q.toLowerCase()) != -1) {\n\t                suggestions[key] = this.options.availableTags[key];\n\t            }\n\t        }\n\t        this.suggest(suggestions);\n\t    } else {\n\t        this.suggest(this.options.availableTags);\n\t    }\n\t};\n\t\n\tAutocomplete.prototype.getServerSuggestions = function (q) {\n\t    var that = this;\n\t    if (q.trim() != \"\") {\n\t        if (this.ajax != null) this.ajax[1].abort();\n\t        var data = {};\n\t        data[that.options.query] = q;\n\t        this.ajax = _sf2.default.ajax.send({\n\t            url: that.options.url,\n\t            data: data,\n\t            isReturnXHRToo: true\n\t        });\n\t        this.ajax[0].then(function (answer) {\n\t            if (that.value && !that.filled) that.suggest(answer.suggestions);\n\t        }, function (error) {});\n\t        this.setState(\"loading\");\n\t    } else {\n\t        this.hide();\n\t    }\n\t};\n\t\n\t/**\r\n\t * Gets suggestions from availableTags or from server.\r\n\t * @param {String} q Query\r\n\t */\n\tAutocomplete.prototype.getSuggestions = function (q) {\n\t    if (this.options.disable) {\n\t        this.setState(\"add\");\n\t        return;\n\t    }\n\t\n\t    if (this.options.availableTags && !this.options.url) {\n\t        this.getAvailableSuggestions(q);\n\t    } else {\n\t        this.getServerSuggestions(q);\n\t    }\n\t};\n\t\n\t/**\r\n\t * Prepare suggestions or alert.\r\n\t * @returns {string}\r\n\t */\n\tAutocomplete.prototype.prepareSuggestions = function () {\n\t    //todo create nodes (not innerHtml)\n\t    var that = this,\n\t        value = this.value,\n\t        //that.getQuery(that.value),\n\t    html = '';\n\t\n\t    if (this.suggestions && (!Array.isArray(this.suggestions) && (0, _getOwnPropertyNames2.default)(this.suggestions).length > 0 || Array.isArray(this.suggestions) && this.suggestions.length > 0)) {\n\t        if (!Array.isArray(this.suggestions)) {\n\t            for (var key in this.suggestions) {\n\t                if (this.suggestions.hasOwnProperty(key)) {\n\t                    html += '<div class=\"' + that.options.suggestionsClassName + '\" data-key=\"' + key + '\">' + that.formatResult(this.suggestions[key], value) + '</div>';\n\t                }\n\t            }\n\t        } else {\n\t            this.suggestions.forEach(function (suggestion, index) {\n\t                html += '<div class=\"' + that.options.suggestionsClassName + '\" data-key=\"' + index + '\">' + that.formatResult(suggestion, value) + '</div>';\n\t            });\n\t        }\n\t    } else {\n\t        html = '<div class=\"alert alert-info\" style=\"text-align: center; margin: 0;\">There are no suggestions for this query.</div>';\n\t    }\n\t\n\t    return html;\n\t};\n\t\n\t/**\r\n\t * Shows dropdown with the hints.\r\n\t */\n\tAutocomplete.prototype.suggest = function (hints) {\n\t    var that = this;\n\t    this.hide();\n\t    this.suggestions = hints;\n\t    this.els.hints = document.createElement('div');\n\t    this.els.hints.className = 'autocomplete-hints';\n\t    this.els.hints.style.position = 'absolute';\n\t    this.els.hints.innerHTML = this.prepareSuggestions();\n\t    this.els.group.insertBefore(this.els.hints, this.els.input.nextSibling);\n\t    this.visible = true;\n\t\n\t    this.els.hints.addEventListener(\"click\", this.onSuggestionsClick.bind(this));\n\t\n\t    this.setState(this.options.allowNew ? \"add\" : \"select\");\n\t};\n\t\n\tAutocomplete.prototype.onSuggestionsClick = function (e) {\n\t    e.preventDefault();\n\t    var node = e.target;\n\t    while (!node.dataset.key && node !== this.els.group) {\n\t        node = node.parentNode;\n\t    }\n\t    if (!node.dataset.key) return;\n\t    this.select(node.dataset.key);\n\t\n\t    // var node = e.target;\n\t    // var keys = [];//array, so we can have nesting\n\t    // while (node !== this.els.group) {\n\t    //     if (node.dataset.key) keys.push(node.dataset.key);\n\t    //     node = node.parentNode;\n\t    // }\n\t    // if (!keys[0]) return;\n\t    // this.select.apply(this, keys);\n\t};\n\t\n\t/**\r\n\t * Escape.\r\n\t * @param {String} value String to escape.\r\n\t * @returns {String} Escaped string.\r\n\t */\n\tAutocomplete.prototype.escapeRegExChars = function (value) {\n\t    return value.replace(/[\\-\\[\\]\\/\\{}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n\t};\n\t\n\t/**\r\n\t * Highlight query in suggestion.\r\n\t * @param {String} suggestion String to be formatted\r\n\t * @param {String} value Query to highlight from suggestion string\r\n\t * @returns {String} Highlighted result\r\n\t */\n\tAutocomplete.prototype.formatResult = function (suggestion, value) {\n\t    var pattern = '(' + this.escapeRegExChars(value) + ')';\n\t    return suggestion.replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>');\n\t};\n\t\n\t/**\r\n\t * @param {String} key\r\n\t */\n\tAutocomplete.prototype.select = function (key) {\n\t    this.addTag(key, this.suggestions[key]);\n\t    this.onSelect(key);\n\t};\n\t\n\tAutocomplete.prototype.onSelect = function () {\n\t    this.events.trigger(\"select\", this);\n\t    if (!this.options.onSelect) return;\n\t    var cb = _sf2.default.tools.resolveKeyPath(this.options.onSelect, window);\n\t    cb && cb.apply(this, arguments);\n\t};\n\t\n\t//Methods for delimiter\n\t//Autocomplete.prototype.getValue = function (value) {\n\t//    var that = this,\n\t//        currentValue,\n\t//        parts;\n\t//\n\t//    if (!this.options.delimiter) return value;\n\t//    currentValue = that.currentValue;\n\t//    parts = currentValue.split(this.options.delimiter);\n\t//    if (parts.length === 1) return value;\n\t//    return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n\t//};\n\t\n\t//Autocomplete.prototype.getQuery = function (value) {\n\t//    if (!this.options.delimiter) return value.trim();\n\t//    var parts = value.split(this.options.delimiter);\n\t//    return parts[parts.length - 1].trim();\n\t//};\n\t\n\t/**\r\n\t * Process focus on input. Only if availableTags are present.\r\n\t */\n\tAutocomplete.prototype.onFocus = function () {\n\t    this.getSuggestions(\"\");\n\t};\n\t\n\t/**\r\n\t * Processes keyPress\r\n\t * @param {Object} e Event that fires on key down.\r\n\t */\n\tAutocomplete.prototype.onKeyPress = function (e) {\n\t    var that = this;\n\t\n\t    // If suggestions are hidden and user presses arrow down -> display suggestions\n\t    if (!this.disabled && !this.visible && e.which === this.keys.DOWN && this.value) {\n\t        this.onValueChange();\n\t        return;\n\t    }\n\t\n\t    switch (e.which) {\n\t        //        case that.keys.BACKSPACE:\n\t        //            that.onValueChange();\n\t        //            return;\n\t        //            break;\n\t        case that.keys.RETURN:\n\t            e.stopImmediatePropagation();\n\t            e.preventDefault();\n\t            that.onKeyEnter();\n\t            break;\n\t        case that.keys.UP:\n\t            if (!that.visible) return;\n\t            that.onKeyUp();\n\t            break;\n\t        case that.keys.DOWN:\n\t            if (!that.visible) return;\n\t            that.onKeyDown();\n\t            break;\n\t        default:\n\t            return;\n\t    }\n\t\n\t    // Cancel event if function did not return:\n\t    e.stopImmediatePropagation();\n\t    e.preventDefault();\n\t};\n\t\n\tAutocomplete.prototype.onKeyEnter = function () {\n\t    if (this.selectedIndex === -1) {\n\t        if (!this.options.allowNew && this.value == this.els.input.value) {\n\t            this.onValueChange();\n\t        } else {\n\t            this.addTag(false, this.els.input.value);\n\t        }\n\t        return;\n\t    }\n\t\n\t    this.select(this.getKeyByIndex(this.selectedIndex));\n\t};\n\t\n\tAutocomplete.prototype.onKeyUp = function () {\n\t    this.moveUp();\n\t};\n\t\n\tAutocomplete.prototype.onKeyDown = function () {\n\t    this.moveDown();\n\t};\n\t\n\t/**\r\n\t * Move up highlight of current suggestion.\r\n\t */\n\tAutocomplete.prototype.moveUp = function () {\n\t    var that = this;\n\t\n\t    if (this.selectedIndex === -1) return;\n\t\n\t    if (this.selectedIndex === 0) {\n\t        [].forEach.call(this.els.hints.children, function (child) {\n\t            child.classList.remove(that.options.selectedClassName);\n\t        });\n\t        that.selectedIndex = -1;\n\t        return;\n\t    }\n\t\n\t    this.adjustScroll(this.selectedIndex - 1);\n\t};\n\t\n\t/**\r\n\t * Move down highlight of current suggestion.\r\n\t */\n\tAutocomplete.prototype.moveDown = function () {\n\t    if (this.selectedIndex === this.els.hints.children.length - 1) return;\n\t    this.adjustScroll(this.selectedIndex + 1);\n\t};\n\t\n\t/**\r\n\t * Function to adjust scrolling if many suggestions.\r\n\t * Not implemented now. Just transit.\r\n\t * @param {Number} index Index of current suggestion.\r\n\t */\n\tAutocomplete.prototype.adjustScroll = function (index) {\n\t    this.highlight(index);\n\t\n\t    var item = this.els.hints.children[this.selectedIndex],\n\t        hintsHeight = this.els.hints.clientHeight,\n\t        hintTop = item.offsetTop,\n\t        hintHeight = item.offsetHeight;\n\t\n\t    if (hintTop < this.els.hints.scrollTop) {\n\t        this.els.hints.scrollTop = hintTop;\n\t    } else if (hintTop > this.els.hints.scrollTop + hintsHeight - hintHeight) {\n\t        this.els.hints.scrollTop = hintTop - hintsHeight + hintHeight;\n\t    }\n\t};\n\t\n\t/**\r\n\t * Highlight active suggestion.\r\n\t * @param {Number} index Index of current suggestion.\r\n\t * @returns {null}\r\n\t */\n\tAutocomplete.prototype.highlight = function (index) {\n\t    var that = this;\n\t    [].forEach.call(this.els.hints.children, function (child) {\n\t        child.classList.remove(that.options.selectedClassName);\n\t    });\n\t    this.els.hints.children[index].classList.add(that.options.selectedClassName);\n\t    this.selectedIndex = index;\n\t    return null;\n\t};\n\t\n\tAutocomplete.prototype.die = function () {\n\t    console.error(\"TODO DIE\"); //TODO DIE\n\t};\n\t\n\texports.default = Autocomplete;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(5), __esModule: true };\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(6);\n\t__webpack_require__(7);\n\tmodule.exports = function getOwnPropertyNames(it){\n\t  return $.getNames(it);\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create:     $Object.create,\n\t  getProto:   $Object.getPrototypeOf,\n\t  isEnum:     {}.propertyIsEnumerable,\n\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t  setDesc:    $Object.defineProperty,\n\t  setDescs:   $Object.defineProperties,\n\t  getKeys:    $Object.keys,\n\t  getNames:   $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each:       [].forEach\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 19.1.2.7 Object.getOwnPropertyNames(O)\n\t__webpack_require__(8)('getOwnPropertyNames', function(){\n\t  return __webpack_require__(15).get;\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// most Object methods by ES6 should accept primitives\n\tvar $export = __webpack_require__(9)\n\t  , core    = __webpack_require__(11)\n\t  , fails   = __webpack_require__(14);\n\tmodule.exports = function(KEY, exec){\n\t  var fn  = (core.Object || {})[KEY] || Object[KEY]\n\t    , exp = {};\n\t  exp[KEY] = exec(fn);\n\t  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global    = __webpack_require__(10)\n\t  , core      = __webpack_require__(11)\n\t  , ctx       = __webpack_require__(12)\n\t  , PROTOTYPE = 'prototype';\n\t\n\tvar $export = function(type, name, source){\n\t  var IS_FORCED = type & $export.F\n\t    , IS_GLOBAL = type & $export.G\n\t    , IS_STATIC = type & $export.S\n\t    , IS_PROTO  = type & $export.P\n\t    , IS_BIND   = type & $export.B\n\t    , IS_WRAP   = type & $export.W\n\t    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n\t    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n\t    , key, own, out;\n\t  if(IS_GLOBAL)source = name;\n\t  for(key in source){\n\t    // contains in native\n\t    own = !IS_FORCED && target && key in target;\n\t    if(own && key in exports)continue;\n\t    // export native or passed\n\t    out = own ? target[key] : source[key];\n\t    // prevent global pollution for namespaces\n\t    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n\t    // bind timers to global for call from export context\n\t    : IS_BIND && own ? ctx(out, global)\n\t    // wrap global constructors for prevent change them in library\n\t    : IS_WRAP && target[key] == out ? (function(C){\n\t      var F = function(param){\n\t        return this instanceof C ? new C(param) : C(param);\n\t      };\n\t      F[PROTOTYPE] = C[PROTOTYPE];\n\t      return F;\n\t    // make static versions for prototype methods\n\t    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t  }\n\t};\n\t// type bitmap\n\t$export.F = 1;  // forced\n\t$export.G = 2;  // global\n\t$export.S = 4;  // static\n\t$export.P = 8;  // proto\n\t$export.B = 16; // bind\n\t$export.W = 32; // wrap\n\tmodule.exports = $export;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tvar core = module.exports = {version: '1.2.6'};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// optional / simple context binding\n\tvar aFunction = __webpack_require__(13);\n\tmodule.exports = function(fn, that, length){\n\t  aFunction(fn);\n\t  if(that === undefined)return fn;\n\t  switch(length){\n\t    case 1: return function(a){\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function(a, b){\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function(a, b, c){\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function(/* ...args */){\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n\t  return it;\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(exec){\n\t  try {\n\t    return !!exec();\n\t  } catch(e){\n\t    return true;\n\t  }\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\tvar toIObject = __webpack_require__(16)\n\t  , getNames  = __webpack_require__(6).getNames\n\t  , toString  = {}.toString;\n\t\n\tvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n\t  ? Object.getOwnPropertyNames(window) : [];\n\t\n\tvar getWindowNames = function(it){\n\t  try {\n\t    return getNames(it);\n\t  } catch(e){\n\t    return windowNames.slice();\n\t  }\n\t};\n\t\n\tmodule.exports.get = function getOwnPropertyNames(it){\n\t  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n\t  return getNames(toIObject(it));\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// to indexed object, toObject with fallback for non-array-like ES3 strings\n\tvar IObject = __webpack_require__(17)\n\t  , defined = __webpack_require__(19);\n\tmodule.exports = function(it){\n\t  return IObject(defined(it));\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\tvar cof = __webpack_require__(18);\n\tmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = function(it){\n\t  return toString.call(it).slice(8, -1);\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tmodule.exports = function(it){\n\t  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n\t  return it;\n\t};\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(21), __esModule: true };\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(22);\n\tmodule.exports = __webpack_require__(11).Object.assign;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 19.1.3.1 Object.assign(target, source)\n\tvar $export = __webpack_require__(9);\n\t\n\t$export($export.S + $export.F, 'Object', {assign: __webpack_require__(23)});\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 19.1.2.1 Object.assign(target, source, ...)\n\tvar $        = __webpack_require__(6)\n\t  , toObject = __webpack_require__(24)\n\t  , IObject  = __webpack_require__(17);\n\t\n\t// should work with symbols and should have deterministic property order (V8 bug)\n\tmodule.exports = __webpack_require__(14)(function(){\n\t  var a = Object.assign\n\t    , A = {}\n\t    , B = {}\n\t    , S = Symbol()\n\t    , K = 'abcdefghijklmnopqrst';\n\t  A[S] = 7;\n\t  K.split('').forEach(function(k){ B[k] = k; });\n\t  return a({}, A)[S] != 7 || Object.keys(a({}, B)).join('') != K;\n\t}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n\t  var T     = toObject(target)\n\t    , $$    = arguments\n\t    , $$len = $$.length\n\t    , index = 1\n\t    , getKeys    = $.getKeys\n\t    , getSymbols = $.getSymbols\n\t    , isEnum     = $.isEnum;\n\t  while($$len > index){\n\t    var S      = IObject($$[index++])\n\t      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n\t      , length = keys.length\n\t      , j      = 0\n\t      , key;\n\t    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n\t  }\n\t  return T;\n\t} : Object.assign;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 7.1.13 ToObject(argument)\n\tvar defined = __webpack_require__(19);\n\tmodule.exports = function(it){\n\t  return Object(defined(it));\n\t};\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(26), __esModule: true };\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(6);\n\tmodule.exports = function create(P, D){\n\t  return $.create(P, D);\n\t};\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(28);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(30)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./autocomplete.less\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./autocomplete.less\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(29)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".item-form{position:relative}.item-form,.item-form input[type=text]{font-size:1rem}.item-form input[type=text].js-sf-autocomplete::-ms-clear{display:none}.item-form input[type=text]:focus+.autocomplete-hints{border-color:#33a3fe;border-top-color:#b9b9b9}.item-state-search .btn-icon:before{content:'\\\\26B2';transform:rotate(-45deg);display:inline-block;position:relative}.item-state-add .btn-icon:before{content:'+'}.item-state-filled .btn-icon:before{content:'\\\\D7'}.item-state-select .btn-icon:hover{opacity:.2;cursor:default}.item-state-select .btn-icon:before{content:'\\\\21D9'}.item-state-loading .btn-icon:before{content:'\\\\21BB'}.btn-icon{position:absolute;transform:translateY(-50%);-webkit-transform:translateY(-50%);right:0;width:30px;font-size:24px;line-height:24px}.btn-icon:focus{background-color:transparent}.autocomplete-hints{z-index:10000;background:#fff;border:1px solid #b9b9b9;border-bottom-left-radius:2px;border-bottom-right-radius:2px;margin-top:-1px;max-width:100%;width:100%;max-height:200px;overflow-y:scroll;color:#b9b9b9}.autocomplete-hints>.autocomplete-hint{padding:5px 10px;cursor:pointer}.autocomplete-hints>.autocomplete-hint.autocomplete-selected,.autocomplete-hints>.autocomplete-hint:hover{background:#e5e5e5}.autocomplete-hints strong{color:#33a3fe;font-weight:400}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** sf.autocomplete.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7cf6299690cf2aa0e84c\n **/","\"use strict\";\r\nimport sf from 'sf';//resolved by webpack's \"externals\"\r\nimport Autocomplete from './sf-autocomplete';\r\n\r\n//todo not use webpack's style loader here. just compile, minify and add to the page by our script\r\nrequire(\"style!css?minimize!less!./autocomplete.less\");\r\n\r\nsf.instancesController.registerInstanceType(Autocomplete, \"js-sf-autocomplete\");\r\nmodule.exports = Autocomplete;   // ES6 default export will not expose us as global\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"sf\"\n ** module id = 2\n ** module chunks = 0 1\n **/","\"use strict\";\r\nimport sf from 'sf';//resolved by webpack's \"externals\"\r\n\r\nvar Autocomplete = function (sf, node, options) {\r\n    this._construct(sf, node, options);\r\n};\r\nAutocomplete.prototype = Object.create(sf.core.BaseDOMConstructor.prototype);\r\nAutocomplete.prototype.name = \"autocomplete\";\r\nAutocomplete.prototype._construct = function (sf, node, options) {\r\n    this.init(sf, node, options);//call parent\r\n\r\n    var defaults = {\r\n        /*NOT REQUIRED OPTIONS*/\r\n        /*delimiter: \"\",*/\r\n    };\r\n    var that = this;\r\n    this.options = Object.assign(this.options, defaults);\r\n    if (options) {//if we pass options extend all options by passed options\r\n        this.options = Object.assign(this.options, options);\r\n    }\r\n\r\n    /*INITIAL VARIABLES*/\r\n    /**\r\n     * @default false\r\n     * */\r\n    this.filled = false;\r\n    /**\r\n     * @default -1\r\n     * */\r\n    this.selectedIndex = -1;\r\n\r\n    this.els = {\r\n        node: node,\r\n        input: node,\r\n        wrapper: sf.helpers.domTools.closest(node, this.options.wrapperSelector),\r\n        group: node.parentNode,\r\n        hidden: document.createElement('input'),\r\n        hints: null,\r\n        addon: document.createElement(\"button\")\r\n    };\r\n    this.els.input.autocomplete = \"off\";\r\n    this.els.wrapper.appendChild(this.els.hidden);\r\n    this.els.hidden.setAttribute('type', 'hidden');\r\n    this.els.hidden.name = this.els.input.dataset.name;\r\n    if (this.els.input.dataset.value) this.els.hidden.value = this.els.input.dataset.value;\r\n    this.els.addon.className = \"btn-icon\";\r\n    this.els.addon.setAttribute(\"type\", \"button\");\r\n    this.els.addon.style.top = this.els.input.offsetTop + Math.round(this.els.input.offsetHeight / 2) + 'px';\r\n    this.els.group.appendChild(this.els.addon);\r\n    if (this.options.url[this.options.url.length - 1] === \"/\") {\r\n        this.options.url = this.options.url.substring(0, this.options.url.length - 1);\r\n    }\r\n\r\n    this.value = this.els.input.value;\r\n    this.key = this.els.input.dataset.key;\r\n\r\n\r\n    this.retrieveValueByKey();\r\n\r\n    if (this.key && this.value) {\r\n        this.setState(\"filled\");\r\n    } else {\r\n        this.setState(\"search\");\r\n    }\r\n\r\n    if (this.options.availableTags && !this.options.url) {\r\n        this.options.deferRequestBy = 0;\r\n    }\r\n\r\n    this.addEventListeners();\r\n\r\n    this.events = new sf.modules.core.Events([\"select\", \"clear\"]);\r\n};\r\n\r\nAutocomplete.prototype._key = \"\";\r\n\r\n/**\r\n * @override\r\n * @inheritDoc\r\n * @enum {string}\r\n */\r\nAutocomplete.prototype.optionsToGrab =\r\n{\r\n    /**\r\n     * URL to get suggestions form <b>Default: \"/\"</b>\r\n     */\r\n    url: {\r\n        value: \"/\",\r\n        domAttr: \"data-url\"\r\n    },\r\n    /**\r\n     *  Accept or not values that not present in suggestions <b>Default: \"false\"</b>\r\n     */\r\n    allowNew: {\r\n        value: false,\r\n        domAttr: \"data-allow-new\"\r\n    },\r\n    /**\r\n     *  Pass key if possible when values that not present in suggestions are allowed, i.e. with allowNew-param<b>Default: \"false\"</b>\r\n     */\r\n    keyOnNewAllowed: {\r\n        value: false,\r\n        domAttr: \"data-key-on-new\"\r\n    },\r\n    /**\r\n     * Name to send <b>Default: \"autocomplete\"</b>\r\n     */\r\n    name: {\r\n        value: \"autocomplete\",\r\n        domAttr: \"data-name\"\r\n    },\r\n    /**\r\n     * Wrapper selector <b>Default: \".item-form\"</b>\r\n     */\r\n    wrapperSelector: {\r\n        value: \".item-form\",\r\n        domAttr: \"data-wrapper-selector\"\r\n    },\r\n    /**\r\n     * Minum amount of chars to start showing suggestions <b>Default: 1</b>\r\n     */\r\n    minChars: {\r\n        value: 1,\r\n        domAttr: \"data-min-chars\"\r\n    },\r\n    /**\r\n     * Naming of query to send <b>Default: \"query\"</b>\r\n     */\r\n    query: {\r\n        value: \"query\",\r\n        domAttr: \"data-query\"\r\n    },\r\n    /**\r\n     * Defer request after input in ms <b>Default: 500</b>\r\n     */\r\n    deferRequestBy: {\r\n        value: 500,\r\n        domAttr: \"data-defer\"\r\n    },\r\n    /**\r\n     * Class to pass to autocomplete hints <b>Default: \"autocomplete-hint\"</b>\r\n     */\r\n    suggestionsClassName: {\r\n        value: \"autocomplete-hint\",\r\n        domAttr: \"data-suggestions-class\"\r\n    },\r\n    /**\r\n     * Class to pass to selected hint in list <b>Default: \"autocomplete-selected\"</b>\r\n     */\r\n    selectedClassName: {\r\n        value: \"autocomplete-selected\",\r\n        domAttr: \"data-selected-class\"\r\n    },\r\n    /**\r\n     * Callback on suggestion select\r\n     */\r\n    onSelect: {\r\n        domAttr: \"data-on-select\"\r\n    }\r\n};\r\n/**\r\n * @override\r\n * @inheritDoc\r\n * @enum {Object}\r\n */\r\nAutocomplete.prototype.optionsToProcess = {\r\n    /**\r\n     * For Autocomplete (not for Tags) this means available key->values for Autocomplete but given by PHP, not from server.\r\n     */\r\n    availableTags: {\r\n        processor: function (node) { //processor\r\n            var JSONNode = node.getElementsByClassName(\"js-spiral-autocomplete-available-tags\")[0];\r\n            if (!JSONNode || !(JSONNode.innerHTML)) {\r\n                return this.value\r\n            }\r\n            var ret_val;\r\n            try {\r\n                ret_val = JSON.parse(JSONNode.innerHTML);\r\n            } catch (e) {\r\n                console.error(\"Failed to parse JSON -\", JSONNode.innerHTML, e);\r\n                ret_val = this.value\r\n            }\r\n            return ret_val;\r\n        }\r\n    }\r\n};\r\n\r\nAutocomplete.prototype.retrieveValueByKey = function () {\r\n    var that = this;\r\n    if (!this.value && this.els.hidden.value) {\r\n        sf.ajax.send({\r\n            url: this.options.url,\r\n            data: {id: this.els.hidden.value}\r\n        }).then(function (success) {\r\n            if(success.suggestions){\r\n                that.els.input.value =  success.suggestions[that.els.hidden.value];\r\n                that.filled = true;\r\n                that.setState(\"filled\");\r\n            } else {\r\n                that.els.hidden.value = \"\"\r\n            }\r\n        }, function (error) {\r\n            that.els.hidden.value = \"\"\r\n        });\r\n    }\r\n};\r\n\r\n/**\r\n * Adds events listeners.</br>\r\n */\r\nAutocomplete.prototype.addEventListeners = function () {\r\n    var that = this;\r\n\r\n    function wrap(e) {\r\n        if (e.type === 'keydown') that.onKeyPress(e);\r\n        if (e.type === 'input' || e.type === 'change') that.onInputChange(e);\r\n        if (e.type === 'click') that.wrap(e);\r\n    }\r\n\r\n    function listen(e) {\r\n        if (that.options.availableTags) that.onFocus(e);\r\n        that.els.input.addEventListener(\"keydown\", wrap);\r\n        that.els.input.addEventListener(\"change\", wrap);\r\n        that.els.input.addEventListener(\"input\", wrap);\r\n        that.els.input.addEventListener(\"blur\", function () {\r\n            that.els.input.removeEventListener(\"keydown\", wrap);\r\n            that.els.input.removeEventListener(\"change\", wrap);\r\n            that.els.input.removeEventListener(\"input\", wrap);\r\n            that.els.input.removeEventListener(\"blur\", listen);\r\n        }, false);\r\n    }\r\n\r\n    this.els.input.addEventListener(\"focus\", listen);\r\n\r\n    this.els.addon.addEventListener(\"click\", function () {\r\n        switch (that.state) {\r\n            case \"search\":\r\n                that.onValueChange();\r\n                break;\r\n            case \"filled\":\r\n                that.clear();\r\n                break;\r\n            case \"add\":\r\n                that.addTag(false, that.els.input.value);\r\n                break;\r\n            case \"select\":\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Key codes.\r\n * @enum {Number}\r\n */\r\nAutocomplete.prototype.keys = {\r\n    ESC: 27, TAB: 9, RETURN: 13, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, BACKSPACE: 8\r\n};\r\n\r\n\r\n/**\r\n * Gets key from data-key from element.\r\n * @param {Number} index Index of current suggestion.\r\n * @return {String} Key that written in \"data-key\" attribute\r\n */\r\nAutocomplete.prototype.getKeyByIndex = function (index) {\r\n    return this.els.hints.children[index].dataset.key;\r\n};\r\n\r\n/**\r\n * Hides hints. Changes state.\r\n */\r\nAutocomplete.prototype.hide = function () {\r\n    if (!this.els.hints) return;\r\n    this.els.group.removeChild(this.els.hints);\r\n    this.els.hints = null;\r\n    this.visible = false;\r\n    this.selectedIndex = -1;\r\n    if (this.value !== \"\" && this.value !== this.els.input.value) {\r\n        this.setState(this.options.allowNew ? \"add\" : \"search\");\r\n    }\r\n};\r\n\r\n/**\r\n * Clears input, suggestions, variables.\r\n */\r\nAutocomplete.prototype.clear = function () {\r\n    this.value = \"\";\r\n    this.els.input.value = \"\";\r\n    this.els.hidden.value = \"\";\r\n    this.suggestions = {};\r\n    this.filled = false;\r\n    this.hide();\r\n    this.setState(\"search\");\r\n    this.events.trigger(\"clear\", this);\r\n};\r\n\r\n/**\r\n * Trim string.\r\n * @param {String} str String that will be trimmed\r\n * @return {String} Trimmed string\r\n */\r\nAutocomplete.prototype.trim = function (str) {\r\n    return str.trim().replace(/\\s+/g, '_')\r\n};\r\n\r\n/**\r\n * Changes item-state- class on wrapper.\r\n * @param {String} state\r\n */\r\nAutocomplete.prototype.setState = function (state) {\r\n    if (this.state === state) return;\r\n    this.els.wrapper.classList.remove(\"item-state-\" + this.state);\r\n    this.els.wrapper.classList.add(\"item-state-\" + state);\r\n    this.state = state;\r\n    if (state === \"filled\") {\r\n        this.hide();\r\n        this.els.input.readOnly = true;\r\n        this.els.input.classList.add('read-only');\r\n    } else {\r\n        this.els.input.readOnly = false;\r\n        this.els.input.classList.remove('read-only');\r\n    }\r\n};\r\n\r\n/**\r\n * Change value for visible input and for invisible inputs.\r\n * @param {String | Boolean} key Key to add to hidden input and than send to server.\r\n * @param {String} value Value just to show to users.\r\n */\r\nAutocomplete.prototype.addTag = function (key, value) {\r\n    if (this.options.allowNew || key !== true) {\r\n\r\n        if (this.options.allowNew && this.options.keyOnNewAllowed && key) {\r\n            this.els.hidden.value = key;\r\n        } else {\r\n            this.els.hidden.value = this.options.allowNew ? value : key;\r\n        }\r\n\r\n        this.value = value;\r\n        this.els.input.value = this.value;\r\n        this.suggestions = {};\r\n        this.filled = true;\r\n        this.setState(\"filled\");\r\n    }\r\n};\r\n\r\n/**\r\n * Process key up.\r\n * @param e Event that fires on key up.\r\n */\r\nAutocomplete.prototype.onInputChange = function (e) {\r\n    var that = this;\r\n    if (this.disabled) return;\r\n\r\n//    switch (e.which) {\r\n//        case this.keys.UP:\r\n//        case this.keys.DOWN:\r\n//            return;\r\n//    }\r\n\r\n    clearTimeout(this.onChangeTimeout);\r\n\r\n    if (this.value !== this.els.input.value) {\r\n        this.findBestHint();\r\n        if (this.options.deferRequestBy > 0) {\r\n            if (this.options.allowNew)\r\n                this.setState(\"add\");\r\n            // Defer lookup in case when value changes very quickly:\r\n            this.onChangeTimeout = setTimeout(function () {\r\n                that.onValueChange();\r\n            }, this.options.deferRequestBy);\r\n        } else {\r\n            this.onValueChange();\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Finding best input.\r\n * Not implemented.\r\n * Maybe not need.\r\n */\r\nAutocomplete.prototype.findBestHint = function () {\r\n\r\n};\r\n\r\n/**\r\n * Process changing input's value.\r\n */\r\nAutocomplete.prototype.onValueChange = function (q) {\r\n    this.value = this.els.input.value;\r\n    if (this.options.availableTags && !this.options.url) {\r\n        this.getSuggestions(this.value);\r\n    } else {\r\n        clearTimeout(this.onChangeTimeout);\r\n        this.selectedIndex = -1;\r\n        this.value.length < this.options.minChars ? this.hide() : this.getSuggestions(this.value);\r\n    }\r\n};\r\n\r\nAutocomplete.prototype.getAvailableSuggestions = function (q) {\r\n    if (q.trim() != \"\") {\r\n        var suggestions = {};\r\n        for (var key in this.options.availableTags) {\r\n            if (this.options.availableTags.hasOwnProperty(key) &&\r\n                this.options.availableTags[key].toLowerCase().indexOf(q.toLowerCase()) != -1) {\r\n                suggestions[key] = this.options.availableTags[key];\r\n            }\r\n        }\r\n        this.suggest(suggestions);\r\n    } else {\r\n        this.suggest(this.options.availableTags);\r\n    }\r\n};\r\n\r\nAutocomplete.prototype.getServerSuggestions = function (q) {\r\n    var that = this;\r\n    if (q.trim() != \"\") {\r\n        if (this.ajax != null) this.ajax[1].abort();\r\n        var data = {};\r\n        data[that.options.query] = q;\r\n        this.ajax = sf.ajax.send({\r\n            url: that.options.url,\r\n            data: data,\r\n            isReturnXHRToo: true\r\n        });\r\n        this.ajax[0].then(\r\n            function (answer) {\r\n                if (that.value && !that.filled) that.suggest(answer.suggestions);\r\n            },\r\n            function (error) {\r\n\r\n            });\r\n        this.setState(\"loading\");\r\n    } else {\r\n        this.hide();\r\n    }\r\n};\r\n\r\n/**\r\n * Gets suggestions from availableTags or from server.\r\n * @param {String} q Query\r\n */\r\nAutocomplete.prototype.getSuggestions = function (q) {\r\n    if (this.options.disable) {\r\n        this.setState(\"add\");\r\n        return;\r\n    }\r\n\r\n    if (this.options.availableTags && !this.options.url) {\r\n        this.getAvailableSuggestions(q);\r\n    } else {\r\n        this.getServerSuggestions(q);\r\n    }\r\n};\r\n\r\n/**\r\n * Prepare suggestions or alert.\r\n * @returns {string}\r\n */\r\nAutocomplete.prototype.prepareSuggestions = function () {//todo create nodes (not innerHtml)\r\n    var that = this,\r\n        value = this.value,//that.getQuery(that.value),\r\n        html = '';\r\n\r\n    if (this.suggestions && ((!Array.isArray(this.suggestions) && Object.getOwnPropertyNames(this.suggestions).length > 0) || (Array.isArray(this.suggestions) && this.suggestions.length > 0))) {\r\n        if (!Array.isArray(this.suggestions)) {\r\n            for (var key in this.suggestions) {\r\n                if (this.suggestions.hasOwnProperty(key)) {\r\n                    html += '<div class=\"' + that.options.suggestionsClassName + '\" data-key=\"' + key + '\">' + that.formatResult(this.suggestions[key], value) + '</div>';\r\n                }\r\n            }\r\n        } else {\r\n            this.suggestions.forEach(function (suggestion, index) {\r\n                html += '<div class=\"' + that.options.suggestionsClassName + '\" data-key=\"' + index + '\">' + that.formatResult(suggestion, value) + '</div>';\r\n            });\r\n        }\r\n    } else {\r\n        html = '<div class=\"alert alert-info\" style=\"text-align: center; margin: 0;\">There are no suggestions for this query.</div>';\r\n    }\r\n\r\n    return html;\r\n};\r\n\r\n/**\r\n * Shows dropdown with the hints.\r\n */\r\nAutocomplete.prototype.suggest = function (hints) {\r\n    var that = this;\r\n    this.hide();\r\n    this.suggestions = hints;\r\n    this.els.hints = document.createElement('div');\r\n    this.els.hints.className = 'autocomplete-hints';\r\n    this.els.hints.style.position = 'absolute';\r\n    this.els.hints.innerHTML = this.prepareSuggestions();\r\n    this.els.group.insertBefore(this.els.hints, this.els.input.nextSibling);\r\n    this.visible = true;\r\n\r\n    this.els.hints.addEventListener(\"click\", this.onSuggestionsClick.bind(this));\r\n\r\n    this.setState(this.options.allowNew ? \"add\" : \"select\");\r\n};\r\n\r\nAutocomplete.prototype.onSuggestionsClick = function (e) {\r\n    e.preventDefault();\r\n    var node = e.target;\r\n    while (!node.dataset.key && node !== this.els.group) {\r\n        node = node.parentNode;\r\n    }\r\n    if (!node.dataset.key) return;\r\n    this.select(node.dataset.key);\r\n\r\n    // var node = e.target;\r\n    // var keys = [];//array, so we can have nesting\r\n    // while (node !== this.els.group) {\r\n    //     if (node.dataset.key) keys.push(node.dataset.key);\r\n    //     node = node.parentNode;\r\n    // }\r\n    // if (!keys[0]) return;\r\n    // this.select.apply(this, keys);\r\n};\r\n\r\n/**\r\n * Escape.\r\n * @param {String} value String to escape.\r\n * @returns {String} Escaped string.\r\n */\r\nAutocomplete.prototype.escapeRegExChars = function (value) {\r\n    return value.replace(/[\\-\\[\\]\\/\\{}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n};\r\n\r\n/**\r\n * Highlight query in suggestion.\r\n * @param {String} suggestion String to be formatted\r\n * @param {String} value Query to highlight from suggestion string\r\n * @returns {String} Highlighted result\r\n */\r\nAutocomplete.prototype.formatResult = function (suggestion, value) {\r\n    var pattern = '(' + this.escapeRegExChars(value) + ')';\r\n    return suggestion.replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>');\r\n};\r\n\r\n/**\r\n * @param {String} key\r\n */\r\nAutocomplete.prototype.select = function (key) {\r\n    this.addTag(key, this.suggestions[key]);\r\n    this.onSelect(key);\r\n};\r\n\r\nAutocomplete.prototype.onSelect = function () {\r\n    this.events.trigger(\"select\", this);\r\n    if (!this.options.onSelect) return;\r\n    var cb = sf.tools.resolveKeyPath(this.options.onSelect, window);\r\n    cb && cb.apply(this, arguments);\r\n};\r\n\r\n//Methods for delimiter\r\n//Autocomplete.prototype.getValue = function (value) {\r\n//    var that = this,\r\n//        currentValue,\r\n//        parts;\r\n//\r\n//    if (!this.options.delimiter) return value;\r\n//    currentValue = that.currentValue;\r\n//    parts = currentValue.split(this.options.delimiter);\r\n//    if (parts.length === 1) return value;\r\n//    return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\r\n//};\r\n\r\n//Autocomplete.prototype.getQuery = function (value) {\r\n//    if (!this.options.delimiter) return value.trim();\r\n//    var parts = value.split(this.options.delimiter);\r\n//    return parts[parts.length - 1].trim();\r\n//};\r\n\r\n/**\r\n * Process focus on input. Only if availableTags are present.\r\n */\r\nAutocomplete.prototype.onFocus = function () {\r\n    this.getSuggestions(\"\");\r\n};\r\n\r\n/**\r\n * Processes keyPress\r\n * @param {Object} e Event that fires on key down.\r\n */\r\nAutocomplete.prototype.onKeyPress = function (e) {\r\n    var that = this;\r\n\r\n    // If suggestions are hidden and user presses arrow down -> display suggestions\r\n    if (!this.disabled && !this.visible && e.which === this.keys.DOWN && this.value) {\r\n        this.onValueChange();\r\n        return;\r\n    }\r\n\r\n    switch (e.which) {\r\n//        case that.keys.BACKSPACE:\r\n//            that.onValueChange();\r\n//            return;\r\n//            break;\r\n        case that.keys.RETURN:\r\n            e.stopImmediatePropagation();\r\n            e.preventDefault();\r\n            that.onKeyEnter();\r\n            break;\r\n        case that.keys.UP:\r\n            if (!that.visible) return;\r\n            that.onKeyUp();\r\n            break;\r\n        case that.keys.DOWN:\r\n            if (!that.visible) return;\r\n            that.onKeyDown();\r\n            break;\r\n        default:\r\n            return;\r\n    }\r\n\r\n    // Cancel event if function did not return:\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n};\r\n\r\nAutocomplete.prototype.onKeyEnter = function () {\r\n    if (this.selectedIndex === -1) {\r\n        if (!this.options.allowNew && this.value == this.els.input.value) {\r\n            this.onValueChange();\r\n        } else {\r\n            this.addTag(false, this.els.input.value);\r\n        }\r\n        return;\r\n    }\r\n\r\n    this.select(this.getKeyByIndex(this.selectedIndex));\r\n};\r\n\r\nAutocomplete.prototype.onKeyUp = function () {\r\n    this.moveUp();\r\n};\r\n\r\nAutocomplete.prototype.onKeyDown = function () {\r\n    this.moveDown();\r\n};\r\n\r\n/**\r\n * Move up highlight of current suggestion.\r\n */\r\nAutocomplete.prototype.moveUp = function () {\r\n    var that = this;\r\n\r\n    if (this.selectedIndex === -1) return;\r\n\r\n    if (this.selectedIndex === 0) {\r\n        [].forEach.call(this.els.hints.children, function (child) {\r\n            child.classList.remove(that.options.selectedClassName);\r\n        });\r\n        that.selectedIndex = -1;\r\n        return;\r\n    }\r\n\r\n    this.adjustScroll(this.selectedIndex - 1);\r\n};\r\n\r\n/**\r\n * Move down highlight of current suggestion.\r\n */\r\nAutocomplete.prototype.moveDown = function () {\r\n    if (this.selectedIndex === (this.els.hints.children.length - 1)) return;\r\n    this.adjustScroll(this.selectedIndex + 1);\r\n};\r\n\r\n/**\r\n * Function to adjust scrolling if many suggestions.\r\n * Not implemented now. Just transit.\r\n * @param {Number} index Index of current suggestion.\r\n */\r\nAutocomplete.prototype.adjustScroll = function (index) {\r\n    this.highlight(index);\r\n\r\n    var item = this.els.hints.children[this.selectedIndex],\r\n        hintsHeight = this.els.hints.clientHeight,\r\n        hintTop = item.offsetTop,\r\n        hintHeight = item.offsetHeight;\r\n\r\n    if (hintTop < this.els.hints.scrollTop) {\r\n        this.els.hints.scrollTop = hintTop;\r\n    } else if (hintTop > this.els.hints.scrollTop + hintsHeight - hintHeight) {\r\n        this.els.hints.scrollTop = hintTop - hintsHeight + hintHeight;\r\n    }\r\n};\r\n\r\n/**\r\n * Highlight active suggestion.\r\n * @param {Number} index Index of current suggestion.\r\n * @returns {null}\r\n */\r\nAutocomplete.prototype.highlight = function (index) {\r\n    var that = this;\r\n    [].forEach.call(this.els.hints.children, function (child) {\r\n        child.classList.remove(that.options.selectedClassName);\r\n    });\r\n    this.els.hints.children[index].classList.add(that.options.selectedClassName);\r\n    this.selectedIndex = index;\r\n    return null;\r\n};\r\n\r\nAutocomplete.prototype.die = function () {\r\n    console.error(\"TODO DIE\");//TODO DIE\r\n};\r\n\r\nexport {Autocomplete as default};\n\n\n/** WEBPACK FOOTER **\n ** ./src/sf-autocomplete.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-names\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/get-own-property-names.js\n ** module id = 4\n ** module chunks = 0 1\n **/","var $ = require('../../modules/$');\nrequire('../../modules/es6.object.get-own-property-names');\nmodule.exports = function getOwnPropertyNames(it){\n  return $.getNames(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/get-own-property-names.js\n ** module id = 5\n ** module chunks = 0 1\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.js\n ** module id = 6\n ** module chunks = 0 1\n **/","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./$.object-sap')('getOwnPropertyNames', function(){\n  return require('./$.get-names').get;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.get-own-property-names.js\n ** module id = 7\n ** module chunks = 0 1\n **/","// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.object-sap.js\n ** module id = 8\n ** module chunks = 0 1\n **/","var global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.export.js\n ** module id = 9\n ** module chunks = 0 1\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.global.js\n ** module id = 10\n ** module chunks = 0 1\n **/","var core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.core.js\n ** module id = 11\n ** module chunks = 0 1\n **/","// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.ctx.js\n ** module id = 12\n ** module chunks = 0 1\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.a-function.js\n ** module id = 13\n ** module chunks = 0 1\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.fails.js\n ** module id = 14\n ** module chunks = 0 1\n **/","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.get-names.js\n ** module id = 15\n ** module chunks = 0 1\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.to-iobject.js\n ** module id = 16\n ** module chunks = 0 1\n **/","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.iobject.js\n ** module id = 17\n ** module chunks = 0 1\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.cof.js\n ** module id = 18\n ** module chunks = 0 1\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.defined.js\n ** module id = 19\n ** module chunks = 0 1\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/assign.js\n ** module id = 20\n ** module chunks = 0 1\n **/","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/$.core').Object.assign;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/assign.js\n ** module id = 21\n ** module chunks = 0 1\n **/","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./$.export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./$.object-assign')});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/es6.object.assign.js\n ** module id = 22\n ** module chunks = 0 1\n **/","// 19.1.2.1 Object.assign(target, source, ...)\nvar $        = require('./$')\n  , toObject = require('./$.to-object')\n  , IObject  = require('./$.iobject');\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = require('./$.fails')(function(){\n  var a = Object.assign\n    , A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return a({}, A)[S] != 7 || Object.keys(a({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , $$    = arguments\n    , $$len = $$.length\n    , index = 1\n    , getKeys    = $.getKeys\n    , getSymbols = $.getSymbols\n    , isEnum     = $.isEnum;\n  while($$len > index){\n    var S      = IObject($$[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  }\n  return T;\n} : Object.assign;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.object-assign.js\n ** module id = 23\n ** module chunks = 0 1\n **/","// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.to-object.js\n ** module id = 24\n ** module chunks = 0 1\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/create.js\n ** module id = 25\n ** module chunks = 0 1\n **/","var $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/create.js\n ** module id = 26\n ** module chunks = 0 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./autocomplete.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./autocomplete.less\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./autocomplete.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader!./~/css-loader?minimize!./~/less-loader!./src/autocomplete.less\n ** module id = 27\n ** module chunks = 0 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".item-form{position:relative}.item-form,.item-form input[type=text]{font-size:1rem}.item-form input[type=text].js-sf-autocomplete::-ms-clear{display:none}.item-form input[type=text]:focus+.autocomplete-hints{border-color:#33a3fe;border-top-color:#b9b9b9}.item-state-search .btn-icon:before{content:'\\\\26B2';transform:rotate(-45deg);display:inline-block;position:relative}.item-state-add .btn-icon:before{content:'+'}.item-state-filled .btn-icon:before{content:'\\\\D7'}.item-state-select .btn-icon:hover{opacity:.2;cursor:default}.item-state-select .btn-icon:before{content:'\\\\21D9'}.item-state-loading .btn-icon:before{content:'\\\\21BB'}.btn-icon{position:absolute;transform:translateY(-50%);-webkit-transform:translateY(-50%);right:0;width:30px;font-size:24px;line-height:24px}.btn-icon:focus{background-color:transparent}.autocomplete-hints{z-index:10000;background:#fff;border:1px solid #b9b9b9;border-bottom-left-radius:2px;border-bottom-right-radius:2px;margin-top:-1px;max-width:100%;width:100%;max-height:200px;overflow-y:scroll;color:#b9b9b9}.autocomplete-hints>.autocomplete-hint{padding:5px 10px;cursor:pointer}.autocomplete-hints>.autocomplete-hint.autocomplete-selected,.autocomplete-hints>.autocomplete-hint:hover{background:#e5e5e5}.autocomplete-hints strong{color:#33a3fe;font-weight:400}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?minimize!./~/less-loader!./src/autocomplete.less\n ** module id = 28\n ** module chunks = 0 1\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 29\n ** module chunks = 0 1\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 30\n ** module chunks = 0 1\n **/"],"sourceRoot":""}